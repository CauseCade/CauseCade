import 'dart:html';
import 'package:causecade/data_converter.dart';

/*This file contains two classes:
 - ModalNodeAdder
 - ModalNodeEditor
 */

class ModalNodeAdder{
  final DivElement _content;
  final DivElement _title;
  final DivElement _maincontentNodeInfo;
  final DivElement _maincontentParent;
  final DivElement _maincontentTarget;
  final DivElement _buttonholder;
  final DivElement _inputDiv;

  final ButtonElement _cancelButton;
  final ButtonElement _addButton;
  final FormElement _nodeName;
  final InputElement _inputName;
  final LabelElement _labelName;

  List NodeIDS;
  List LinkParentIDS;
  List LinkTargetIDS;
  List Data;

  var linkInputTrackerTargets = 0; /*ensures link input are properly index in storage array*/
  var linkInputTrackerParents = 0; /*ensures link input are properly index in storage array*/

  //Constructor
  ModalNodeAdder() :
  //constructor pre-init
        _content = new DivElement(),
        _title = new DivElement(),
        _maincontentNodeInfo = new DivElement(),
        _maincontentParent = new DivElement(),
        _maincontentTarget = new DivElement(),
        _buttonholder = new DivElement(),
        _cancelButton = new ButtonElement(),
        _addButton = new ButtonElement(),

        _nodeName = new FormElement(),
        _inputDiv = new DivElement(),
        _inputName = new InputElement(),
        _labelName = new LabelElement(),

        NodeIDS = new List(1),
        LinkParentIDS = new List(),
        LinkTargetIDS = new List(),
        Data = new List(3)
  {
    //constructor body


    /*setting some styling*/
    _content.id = "modalContent";
    _content.classes.add("mdl-card");
    _content.classes.add("mdl-shadow--4dp");//set the class for CSS

    _title.classes.add("mdl-card__title");
    _title.classes.add('mdl-card__title-text');
    _title.text = ("Add a Node");
    _title.style.fontSize = "20px";
    _title.style.color = "#fafafa";
    _title.style.height = "100px";

    _title.style.background = '#E91E63';

    //handling input fields

    _maincontentNodeInfo.classes.add("mdl-card__supporting-text");
    _maincontentNodeInfo.children.add(_nodeName);
    _maincontentNodeInfo.text = ("Enter your New Node name below");

    _maincontentParent.classes.add("mdl-card__supporting-text");
    _maincontentParent.text = ("Enter Parent name below");
    _maincontentParent.style.borderTop = '1px solid rgba(0,0,0,.1)';

    _maincontentTarget.classes.add("mdl-card__supporting-text");
    _maincontentTarget.text = ("Enter Target name below");
    _maincontentTarget.style.borderTop = '1px solid rgba(0,0,0,.1)';

    /*styling buttons*/

    _buttonholder.classes.add('mdl-card__actions');
    _buttonholder.classes.add('mdl-card--border');

    _cancelButton.classes.add('mdl-button');
    _cancelButton.classes.add('mdl-js-button');
    _cancelButton.classes.add('mdl-js-ripple-effect');

    _addButton.classes.add('mdl-button');
    _addButton.classes.add('mdl-js-button');
    _addButton.classes.add('mdl-js-ripple-effect');

    /*styling forms*/
    _nodeName.children.add(_inputDiv);
    _inputDiv.classes.add("mdl-textfield");
    _inputDiv.classes.add("mdl-js-textfield");

      _inputName.classes.add("mdl-textfield__input");
      _inputName.id = ("nodeInputBox");
      _inputName.onChange.listen(setNodeName);
      _inputDiv.children.add(_inputName);

      _labelName.classes.add("mdl-textfield__label");
      _labelName.text = ("Enter node name...");
      _labelName.htmlFor = ("nodeInputBox");
      _inputDiv.children.add(_labelName);

    //Filling our card
    _content.append(_title);
    _content.append(_maincontentNodeInfo);
    _content.append(_maincontentParent);
    _content.append(_maincontentTarget);
    _content.append(_buttonholder);
    _maincontentNodeInfo.append(_nodeName);
    addParentInput();
    addTargetInput();

    //Handling Button behaviour
    _cancelButton.text = "Cancel";
    _cancelButton.onClick.listen((event) {
      hide();
    });

    _addButton.text = "Add";
    _addButton.onClick.listen((event) {
       returnData();
    });


    _buttonholder.append(_cancelButton);
    _buttonholder.append(_addButton);
  }

  void setNodeName(Event e){ /*this is currently setup for debugging*/
    NodeIDS[0] = (_inputName.value);
    window.console.debug(NodeIDS);
  }

  void setTargetName(inputIndex, inputValue){ /*this is currently setup for debugging*/
    LinkTargetIDS.add(inputValue);
    window.console.debug(LinkTargetIDS);
    //linkInputTrackerTargets++; /*increases index by 1*/ /*currently means you cannot alter the value of this */
  }

  void addTargetInput(){
    var newLinkElement = new DivElement();
    var newLinkButton = new ButtonElement();
    var newLinkInput = new FormElement();
    var newLinkDiv = new DivElement();
    var newTargetInput = new InputElement();
    var newTargetLabel = new LabelElement();

    newLinkInput.style.display = ("inline-block");

    newLinkInput.children.add(newLinkDiv);
    newLinkDiv.classes.add("mdl-textfield");
    newLinkDiv.classes.add("mdl-js-textfield");

    newTargetInput.classes.add("mdl-textfield__input");
    newTargetInput.classes.add("linkInputBox");
    newTargetInput.onChange.listen((_) => setTargetName(linkInputTrackerTargets,newTargetInput.value));
    newLinkDiv.children.add(newTargetInput);

    newTargetLabel.classes.add("mdl-textfield__label");
    newTargetLabel.text = ("Enter target name...");
    newTargetLabel.htmlFor = ("nodeInputBox");
    newLinkDiv.children.add(newTargetLabel);

    newLinkButton.classes.add('mdl-button');
    newLinkButton.classes.add('mdl-js-button');
    newLinkButton.classes.add('mdl-js-ripple-effect');
    newLinkButton.style.display = ('inline-block');
    newLinkButton.text = ("Add Another target");
    newLinkButton.style.color = "rgba(0,0,0,.54)";
    newLinkButton.onClick.listen((event){
      window.console.debug(newTargetInput.value);
      if (newTargetInput.value != ''){
        addTargetInput();
        newLinkButton.remove();
      }
    });

    newLinkElement.append(newLinkInput);
    newLinkElement.append(newLinkButton);
    _maincontentTarget.append(newLinkElement);
  }

  void setParentName(inputIndex, inputValue){ /*this is currently setup for debugging*/
    LinkParentIDS.add(inputValue);
    window.console.debug(LinkParentIDS);
    //linkInputTrackerParents++; /*increases index by 1*/ /*currently means you cannot alter the value of this */
  }

  void addParentInput(){
    var newLinkElement = new DivElement();
    var newLinkButton = new ButtonElement();
    var newLinkInput = new FormElement();
    var newLinkDiv = new DivElement();
    var newTargetInput = new InputElement();
    var newTargetLabel = new LabelElement();

    newLinkInput.style.display = ("inline-block");

    newLinkInput.children.add(newLinkDiv);
    newLinkDiv.classes.add("mdl-textfield");
    newLinkDiv.classes.add("mdl-js-textfield");

    newTargetInput.classes.add("mdl-textfield__input");
    newTargetInput.classes.add("linkInputBox");
    newTargetInput.onChange.listen((_) => setParentName(linkInputTrackerParents,newTargetInput.value));
    newLinkDiv.children.add(newTargetInput);

    newTargetLabel.classes.add("mdl-textfield__label");
    newTargetLabel.text = ("Enter parent name...");
    newTargetLabel.htmlFor = ("nodeInputBox");
    newLinkDiv.children.add(newTargetLabel);

    newLinkButton.classes.add('mdl-button');
    newLinkButton.classes.add('mdl-js-button');
    newLinkButton.classes.add('mdl-js-ripple-effect');
    newLinkButton.style.display = ('inline-block');
    newLinkButton.text = ("Add Another parent");
    newLinkButton.style.color = "rgba(0,0,0,.54)";
    newLinkButton.onClick.listen((event){
      window.console.debug(newTargetInput.value);
      if (newTargetInput.value != ''){
        addParentInput();
        newLinkButton.remove();
      }
    });

    newLinkElement.append(newLinkInput);
    newLinkElement.append(newLinkButton);
    _maincontentParent.append(newLinkElement);
  }

  void returnData(){
    Data[0]=(NodeIDS);
    Data[1]=(LinkParentIDS);
    Data[2]=(LinkTargetIDS);
    window.console.debug(Data);
    Implement(Data);
    hide();
  }

  //remove the modal dialog div's from the dom.
  void hide() {
        _content.remove();
  }
  //add the modal dialog div's to the dom
  void show() {

    document.body.append(_content);
  }
}

/*class ModalNodeEditor {
  *//*WIP*//*
}*/

class WelcomeModal { //informative modal that launches when causecade is opened
  final DivElement _welcomeModal;
  final ButtonElement _closeButton;
  final ButtonElement _tutorialButton;
  final DivElement _blackOverlay;
  final DivElement _welcomeMainContent;
  final DivElement _buttonRegion;
  final DivElement _buttonHolder;
  final DivElement _titleRegion;
  final DivElement _textRegion;
  final DivElement _welcomeMainContentInternal;
  final ImageElement _Logo;

  WelcomeModal() :
  //constructor pre-init
        _welcomeModal = new DivElement(),
        _blackOverlay = new DivElement(),
        _welcomeMainContent= new DivElement(),
        _welcomeMainContentInternal= new DivElement(),
        _buttonRegion = new DivElement(),
        _buttonHolder = new DivElement(),
        _closeButton = new ButtonElement(),
        _tutorialButton = new ButtonElement(),
        _titleRegion = new DivElement(),
        _textRegion = new DivElement(),
        _Logo = new ImageElement()
  {
    _welcomeModal.id = 'welcomeModal';
    _welcomeMainContent.id='welcomeMessage';
    _welcomeMainContentInternal.id='welcomeMessageContent';

    _titleRegion.text = "Welcome to CauseCade!";
    _titleRegion.id='welcomeTitle';
    _textRegion.text = "So glad you could make it! The website is currently a bit of a hot mess, but I am doing as much as I can to keep improving the functionality and UI";
    _textRegion.id='welcomeText';

    _buttonRegion.id='welcomeButtonRegion';
    _buttonHolder.id='welcomeButtonHolder';
    //_buttonRegion.classes.add('mdl-card__actions');

    _Logo.src = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjI3MG1tIgogICBoZWlnaHQ9IjI3MG1tIgogICB2aWV3Qm94PSIwIDAgOTU2LjY5Mjk5IDk1Ni42OTI5IgogICBpZD0ic3ZnMiIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iQ2F1c2VDYWRlTG9nb1doaXRlX1YxLnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGxpbmVhckdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICBpZD0ibGluZWFyR3JhZGllbnQ1MjM2Ij4KICAgICAgPHN0b3AKICAgICAgICAgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMDtzdG9wLW9wYWNpdHk6MTsiCiAgICAgICAgIG9mZnNldD0iMCIKICAgICAgICAgaWQ9InN0b3A1MjM4IiAvPgogICAgICA8c3RvcAogICAgICAgICBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwO3N0b3Atb3BhY2l0eTowOyIKICAgICAgICAgb2Zmc2V0PSIxIgogICAgICAgICBpZD0ic3RvcDUyNDAiIC8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPG1hcmtlcgogICAgICAgaW5rc2NhcGU6c3RvY2tpZD0iQXJyb3cyTGVuZCIKICAgICAgIG9yaWVudD0iYXV0byIKICAgICAgIHJlZlk9IjAiCiAgICAgICByZWZYPSIwIgogICAgICAgaWQ9IkFycm93MkxlbmQiCiAgICAgICBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZSIKICAgICAgIGlua3NjYXBlOmlzc3RvY2s9InRydWUiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDQyNTkiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuODYyNzQ1MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC42MjU7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1vcGFjaXR5OjAuODYyNzQ1MSIKICAgICAgICAgZD0iTSA4LjcxODU4NzgsNC4wMzM3MzUyIC0yLjIwNzI4OTUsMC4wMTYwMTMyNiA4LjcxODU4ODQsLTQuMDAxNzA3OCBjIC0xLjc0NTQ5ODQsMi4zNzIwNjA5IC0xLjczNTQ0MDgsNS42MTc0NTE5IC02ZS03LDguMDM1NDQzIHoiCiAgICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KC0xLjEsMCwwLC0xLjEsLTEuMSwwKSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgIDwvbWFya2VyPgogICAgPG1hcmtlcgogICAgICAgaW5rc2NhcGU6c3RvY2tpZD0iVGFpbCIKICAgICAgIG9yaWVudD0iYXV0byIKICAgICAgIHJlZlk9IjAiCiAgICAgICByZWZYPSIwIgogICAgICAgaWQ9IlRhaWwiCiAgICAgICBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZSIKICAgICAgIGlua3NjYXBlOmlzc3RvY2s9InRydWUiPgogICAgICA8ZwogICAgICAgICBpZD0iZzQyNzQiCiAgICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEuMiwtMS4yKSIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC44NjI3NDUxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS1vcGFjaXR5OjAuODYyNzQ1MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBpZD0icGF0aDQyNzYiCiAgICAgICAgICAgZD0iTSAtMy44MDQ4Njc0LC0zLjk1ODUyMjcgMC41NDM1MjA5NCwwIgogICAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjAuODYyNzQ1MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC44MDAwMDAwMTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2Utb3BhY2l0eTowLjg2Mjc0NTEiCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIGlkPSJwYXRoNDI3OCIKICAgICAgICAgICBkPSJNIC0xLjI4NjY4MzIsLTMuOTU4NTIyNyAzLjA2MTcwNTMsMCIKICAgICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjg2Mjc0NTE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuODAwMDAwMDE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW9wYWNpdHk6MC44NjI3NDUxIgogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBpZD0icGF0aDQyODAiCiAgICAgICAgICAgZD0iTSAxLjMwNTM1ODIsLTMuOTU4NTIyNyA1LjY1Mzc0NjYsMCIKICAgICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjg2Mjc0NTE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuODAwMDAwMDE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW9wYWNpdHk6MC44NjI3NDUxIgogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBpZD0icGF0aDQyODIiCiAgICAgICAgICAgZD0iTSAtMy44MDQ4Njc0LDQuMTc3NTgzOCAwLjU0MzUyMDk0LDAuMjE5NzQyMjYiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC44NjI3NDUxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjgwMDAwMDAxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1vcGFjaXR5OjAuODYyNzQ1MSIKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgaWQ9InBhdGg0Mjg0IgogICAgICAgICAgIGQ9Ik0gLTEuMjg2NjgzMiw0LjE3NzU4MzggMy4wNjE3MDUzLDAuMjE5NzQyMjYiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC44NjI3NDUxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjgwMDAwMDAxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1vcGFjaXR5OjAuODYyNzQ1MSIKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgaWQ9InBhdGg0Mjg2IgogICAgICAgICAgIGQ9Ik0gMS4zMDUzNTgyLDQuMTc3NTgzOCA1LjY1Mzc0NjYsMC4yMTk3NDIyNiIKICAgICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjg2Mjc0NTE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuODAwMDAwMDE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW9wYWNpdHk6MC44NjI3NDUxIgogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgIDwvZz4KICAgIDwvbWFya2VyPgogICAgPG1hcmtlcgogICAgICAgaW5rc2NhcGU6c3RvY2tpZD0iQXJyb3cxTXN0YXJ0IgogICAgICAgb3JpZW50PSJhdXRvIgogICAgICAgcmVmWT0iMCIKICAgICAgIHJlZlg9IjAiCiAgICAgICBpZD0iQXJyb3cxTXN0YXJ0IgogICAgICAgc3R5bGU9Im92ZXJmbG93OnZpc2libGUiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGg0MjQ0IgogICAgICAgICBkPSJNIDAsMCA1LC01IC0xMi41LDAgNSw1IDAsMCBaIgogICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjg2Mjc0NTE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjFwdDtzdHJva2Utb3BhY2l0eTowLjg2Mjc0NTEiCiAgICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNCwwLDAsMC40LDQsMCkiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICA8L21hcmtlcj4KICAgIDxtYXJrZXIKICAgICAgIGlua3NjYXBlOnN0b2NraWQ9IkFycm93MUxlbmQiCiAgICAgICBvcmllbnQ9ImF1dG8iCiAgICAgICByZWZZPSIwIgogICAgICAgcmVmWD0iMCIKICAgICAgIGlkPSJtYXJrZXI0NTE0IgogICAgICAgc3R5bGU9Im92ZXJmbG93OnZpc2libGUiCiAgICAgICBpbmtzY2FwZTppc3N0b2NrPSJ0cnVlIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGg0NTE2IgogICAgICAgICBkPSJNIDAsMCA1LC01IC0xMi41LDAgNSw1IDAsMCBaIgogICAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eTowLjg2Mjc0NTE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjFwdDtzdHJva2Utb3BhY2l0eTowLjg2Mjc0NTEiCiAgICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KC0wLjgsMCwwLC0wLjgsLTEwLDApIgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgPC9tYXJrZXI+CiAgICA8bWFya2VyCiAgICAgICBpbmtzY2FwZTpzdG9ja2lkPSJBcnJvdzFMZW5kIgogICAgICAgb3JpZW50PSJhdXRvIgogICAgICAgcmVmWT0iMCIKICAgICAgIHJlZlg9IjAiCiAgICAgICBpZD0iQXJyb3cxTGVuZCIKICAgICAgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlIgogICAgICAgaW5rc2NhcGU6aXNzdG9jaz0idHJ1ZSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoNDI0MSIKICAgICAgICAgZD0iTSAwLDAgNSwtNSAtMTIuNSwwIDUsNSAwLDAgWiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MC44NjI3NDUxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxcHQ7c3Ryb2tlLW9wYWNpdHk6MC44NjI3NDUxIgogICAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgtMC44LDAsMCwtMC44LC0xMCwwKSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgIDwvbWFya2VyPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI2NCIKICAgICAgIGN4PSItMTkxLjQ5MDYiCiAgICAgICBjeT0iLTM2NC42NjUyOCIKICAgICAgIGZ4PSItMTkxLjQ5MDYiCiAgICAgICBmeT0iLTM2NC42NjUyOCIKICAgICAgIHI9IjU1LjAwMDAwNCIKICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIgogICAgICAgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2NjkuNzc1MDYsNTY5Ljc0MTMyKSIgLz4KICAgIDxyYWRpYWxHcmFkaWVudAogICAgICAgaW5rc2NhcGU6Y29sbGVjdD0iYWx3YXlzIgogICAgICAgeGxpbms6aHJlZj0iI2xpbmVhckdyYWRpZW50NTIzNiIKICAgICAgIGlkPSJyYWRpYWxHcmFkaWVudDUyNjYiCiAgICAgICBjeD0iLTE5My42MTI0MyIKICAgICAgIGN5PSIxNTQuMDQwNSIKICAgICAgIGZ4PSItMTkzLjYxMjQzIgogICAgICAgZnk9IjE1NC4wNDA1IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI2OCIKICAgICAgIGN4PSI1NC4yNzA5MzUiCiAgICAgICBjeT0iMTUzLjcxNTU1IgogICAgICAgZng9IjU0LjI3MDkzNSIKICAgICAgIGZ5PSIxNTMuNzE1NTUiCiAgICAgICByPSI1NS4wMDAwMDgiCiAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIKICAgICAgIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY5Ljc3NTA2LDU2OS43NDEzMikiIC8+CiAgICA8cmFkaWFsR3JhZGllbnQKICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHhsaW5rOmhyZWY9IiNsaW5lYXJHcmFkaWVudDUyMzYiCiAgICAgICBpZD0icmFkaWFsR3JhZGllbnQ1MjcwIgogICAgICAgY3g9IjIyOS4zMjY3OCIKICAgICAgIGN5PSIxNTguNTY4MzMiCiAgICAgICBmeD0iMjI5LjMyNjc4IgogICAgICAgZnk9IjE1OC41NjgzMyIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIgogICAgICAgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2NjkuNzc1MDYsNTY5Ljc0MTMyKSIgLz4KICAgIDxyYWRpYWxHcmFkaWVudAogICAgICAgaW5rc2NhcGU6Y29sbGVjdD0iYWx3YXlzIgogICAgICAgeGxpbms6aHJlZj0iI2xpbmVhckdyYWRpZW50NTIzNiIKICAgICAgIGlkPSJyYWRpYWxHcmFkaWVudDUyNzIiCiAgICAgICBjeD0iNzcuNDA4MDIiCiAgICAgICBjeT0iLTEwMC44MTc0NyIKICAgICAgIGZ4PSI3Ny40MDgwMiIKICAgICAgIGZ5PSItMTAwLjgxNzQ3IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI3NCIKICAgICAgIGN4PSItNzYuODUwOTUyIgogICAgICAgY3k9Ii05OC4wMDAyNzUiCiAgICAgICBmeD0iLTc2Ljg1MDk1MiIKICAgICAgIGZ5PSItOTguMDAwMjc1IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI3NiIKICAgICAgIGN4PSItMTkyLjkxMTkzIgogICAgICAgY3k9Ii05NS4yNzQzODQiCiAgICAgICBmeD0iLTE5Mi45MTE5MyIKICAgICAgIGZ5PSItOTUuMjc0Mzg0IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI3OCIKICAgICAgIGN4PSI0MzcuMTI4MDgiCiAgICAgICBjeT0iMTUzLjcxNTYxIgogICAgICAgZng9IjQzNy4xMjgwOCIKICAgICAgIGZ5PSIxNTMuNzE1NjEiCiAgICAgICByPSI1NS4wMDAwMDgiCiAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIKICAgICAgIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI4MCIKICAgICAgIGN4PSI2MTIuMTgzOTYiCiAgICAgICBjeT0iMTU4LjU2ODM5IgogICAgICAgZng9IjYxMi4xODM5NiIKICAgICAgIGZ5PSIxNTguNTY4MzkiCiAgICAgICByPSI1NS4wMDAwMDgiCiAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIKICAgICAgIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY2OS43NzUwNiw1NjkuNzQxMzIpIiAvPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBpbmtzY2FwZTpjb2xsZWN0PSJhbHdheXMiCiAgICAgICB4bGluazpocmVmPSIjbGluZWFyR3JhZGllbnQ1MjM2IgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50NTI4MiIKICAgICAgIGN4PSI0NjAuMjY1MTciCiAgICAgICBjeT0iLTEwMC44MTc0NCIKICAgICAgIGZ4PSI0NjAuMjY1MTciCiAgICAgICBmeT0iLTEwMC44MTc0NCIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIgogICAgICAgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSgtNjY5Ljc3NTA2LDU2OS43NDEzMikiIC8+CiAgICA8cmFkaWFsR3JhZGllbnQKICAgICAgIGlua3NjYXBlOmNvbGxlY3Q9ImFsd2F5cyIKICAgICAgIHhsaW5rOmhyZWY9IiNsaW5lYXJHcmFkaWVudDUyMzYiCiAgICAgICBpZD0icmFkaWFsR3JhZGllbnQ1Mjg0IgogICAgICAgY3g9IjMwNi4wMDYxMyIKICAgICAgIGN5PSItOTguMDAwMjQ0IgogICAgICAgZng9IjMwNi4wMDYxMyIKICAgICAgIGZ5PSItOTguMDAwMjQ0IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiCiAgICAgICBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC02NjkuNzc1MDYsNTY5Ljc0MTMyKSIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjAuNyIKICAgICBpbmtzY2FwZTpjeD0iNTc5LjgzNTMiCiAgICAgaW5rc2NhcGU6Y3k9IjUzNC42NTg5NyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIzIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE4NTgiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTA1NyIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkMzM0NCIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE3Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMyIKICAgICBpbmtzY2FwZTpsYWJlbD0iTGlua3MiCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMjEyLjU5ODQ0KSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2ZhZmFmYTtzdHJva2Utd2lkdGg6NjAuMDAwMDAzODE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjA7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNTMyLjc5ODc2LDI1LjU4MTE4OSBjIDUxLjc3NDcxLDY1LjM4OTU3IDYyLjU2MTA3LDE0MC4wNTU0NzEgNjIuNTYxMDcsMTQwLjA1NTQ3MSIKICAgICAgIGlkPSJwYXRoNDIzMiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiNmYWZhZmE7c3Ryb2tlLXdpZHRoOjYwLjAwMDAwMzgxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSA2MDAuOTMxNCwzMDkuMDYyNTYgYyAyOS42NjQ5LDMxMS42NjY1NSA1NS42NTk2OCwyOTAuODkwOTkgNTUuNjU5NjgsMjkwLjg5MDk5IDIwLjU3MTY3LDE0LjUzOTQzIDUwLjU3MTY4LC01LjQ2MDU3IDU4LjAxNjkxLC00NS4wOTgxMiIKICAgICAgIGlkPSJwYXRoNDkzMiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojZmFmYWZhO3N0cm9rZS13aWR0aDo2MC4wMDAwMDM4MTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNTQ4LjA3MTM1LC0yMC4zNTQ3NzEgQyA3MjUuMDQwOTIsNzAuNTUzODY5IDczNy4wNjExOSwxNzEuNDYyNDggNzM3LjA2MTE5LDE3MS40NjI0OCIKICAgICAgIGlkPSJwYXRoNDkzNCIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiNmYWZhZmE7c3Ryb2tlLXdpZHRoOjYwLjAwMDAwMzgxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSA0NzkuMTgzMDIsNTAuNTUzODQ5IC0yLjAyMDMsMTE3Ljg3ODE3MSIKICAgICAgIGlkPSJwYXRoNDkzNiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiNmYWZhZmE7c3Ryb2tlLXdpZHRoOjYwLjAwMDAwMzgxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSA0NzkuMTgzMDMsMzIxLjQ2MjQ4IDQ3Ny4xNjI3Miw1OTkuNTQzNyIKICAgICAgIGlkPSJwYXRoNDkzOCIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOiNmYWZhZmE7c3Ryb2tlLXdpZHRoOjYwLjAwMDAwMzgxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSA3NTYuMTUyNTYsMzA5LjQ0MjE3IGMgMzAsMzIwIDEwMS4wMTAxNiwyODUuMDUwNzcgMTAxLjAxMDE2LDI4NS4wNTA3NyA0ZS01LDEwLjAwMDA0IDI2Ljg2ODA3LC0zMS4wMTAxMSAyNi44NjgwNywtMzEuMDEwMTEiCiAgICAgICBpZD0icGF0aDQ5NDEiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2ZhZmFmYTtzdHJva2Utd2lkdGg6NjAuMDAwMDAzODE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjA7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNDIzLjg5NDIzLDI1LjAxNDA3OSBDIDM3Mi4xMTk1Miw5MC40MDM2NTkgMzYxLjMzMzE2LDE2NS4wNjk1NiAzNjEuMzMzMTYsMTY1LjA2OTU2IgogICAgICAgaWQ9InBhdGg0MjMyLTUiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDpub25lO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTojZmFmYWZhO3N0cm9rZS13aWR0aDo2MC4wMDAwMDM4MTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMzU1Ljc2MTU5LDMwOC40OTU0NyBjIC0yOS42NjQ5LDMxMS42NjY1NyAtNTUuNjU5NjgsMjkwLjg5MTAxIC01NS42NTk2OCwyOTAuODkxMDEgLTIwLjU3MTY3LDE0LjUzOTQzIC01MC41NzE2OSwtNS40NjA1NyAtNTguMDE2OTIsLTQ1LjA5ODEzIgogICAgICAgaWQ9InBhdGg0OTMyLTEiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6bm9uZTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2ZhZmFmYTtzdHJva2Utd2lkdGg6NjAuMDAwMDAzODE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDQwOC42MjE2NCwtMjAuOTIxODkgQyAyMzEuNjUyMDYsNjkuOTg2NzY5IDIxOS42MzE3OSwxNzAuODk1MzggMjE5LjYzMTc5LDE3MC44OTUzOCIKICAgICAgIGlkPSJwYXRoNDkzNC00IgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6bm9uZTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6I2ZhZmFmYTtzdHJva2Utd2lkdGg6NjAuMDAwMDAzODE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDIwMC41NDA0MiwzMDguODc1MDggYyAtMzAsMzIwLjAwMDAyIC0xMDEuMDEwMTUzLDI4NS4wNTA3OSAtMTAxLjAxMDE1MywyODUuMDUwNzkgLTRlLTUsMTAuMDAwMDQgLTI2Ljg2ODA4NCwtMzEuMDEwMTEgLTI2Ljg2ODA4NCwtMzEuMDEwMTEiCiAgICAgICBpZD0icGF0aDQ5NDEtMCIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjYyIgLz4KICA8L2c+CiAgPGcKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjQiCiAgICAgaW5rc2NhcGU6bGFiZWw9IkdyYWRpZW50cyIKICAgICBzb2RpcG9kaTppbnNlbnNpdGl2ZT0idHJ1ZSI+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI2NCk7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtNzkiCiAgICAgICBjeD0iNDc4LjI4NDQ1IgogICAgICAgY3k9IjIwNS4wNzYwMyIKICAgICAgIHI9IjU1LjAwMDAwNCIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOnVybCgjcmFkaWFsR3JhZGllbnQ1MjY2KTtmaWxsLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNDE3NS0zLTEiCiAgICAgICBjeD0iNDc2LjE2MjYzIgogICAgICAgY3k9IjcyMy43ODE4IgogICAgICAgcj0iNTUuMDAwMDA4IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6dXJsKCNyYWRpYWxHcmFkaWVudDUyNjgpO2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTktMiIKICAgICAgIGN4PSI3MjQuMDQ2MDIiCiAgICAgICBjeT0iNzIzLjQ1Njg1IgogICAgICAgcj0iNTUuMDAwMDA4IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6dXJsKCNyYWRpYWxHcmFkaWVudDUyNzApO2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTM2LTIiCiAgICAgICBjeD0iODk5LjEwMTg3IgogICAgICAgY3k9IjcyOC4zMDk2MyIKICAgICAgIHI9IjU1LjAwMDAwOCIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtvcGFjaXR5OjE7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI3Mik7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiCiAgICAgICBpZD0icGF0aDQxNzUtNy00IgogICAgICAgY3g9Ijc0Ny4xODMxMSIKICAgICAgIGN5PSI0NjguOTIzODYiCiAgICAgICByPSI1NS4wMDAwMDgiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI3NCk7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtNi03IgogICAgICAgY3g9IjU5Mi45MjQxMyIKICAgICAgIGN5PSI0NzEuNzQxMDMiCiAgICAgICByPSI1NS4wMDAwMDgiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI3Nik7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtMS05IgogICAgICAgY3g9IjQ3Ni44NjMxMyIKICAgICAgIGN5PSI0NzQuNDY2OTIiCiAgICAgICByPSI1NS4wMDAwMDgiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI3OCk7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtOS00LTIiCiAgICAgICBjeD0iLTIzMi42NDY5NyIKICAgICAgIGN5PSI3MjMuNDU2OTEiCiAgICAgICByPSI1NS4wMDAwMDgiCiAgICAgICB0cmFuc2Zvcm09InNjYWxlKC0xLDEpIiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6dXJsKCNyYWRpYWxHcmFkaWVudDUyODApO2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTM2LTEtOCIKICAgICAgIGN4PSItNTcuNTkxMTAzIgogICAgICAgY3k9IjcyOC4zMDk2OSIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEsMSkiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDp1cmwoI3JhZGlhbEdyYWRpZW50NTI4Mik7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtNy0xLTYiCiAgICAgICBjeD0iLTIwOS41MDk4OSIKICAgICAgIGN5PSI0NjguOTIzODkiCiAgICAgICByPSI1NS4wMDAwMDgiCiAgICAgICB0cmFuc2Zvcm09InNjYWxlKC0xLDEpIiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6dXJsKCNyYWRpYWxHcmFkaWVudDUyODQpO2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTYtMy0yIgogICAgICAgY3g9Ii0zNjMuNzY4OTIiCiAgICAgICBjeT0iNDcxLjc0MTA2IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgdHJhbnNmb3JtPSJzY2FsZSgtMSwxKSIgLz4KICA8L2c+CiAgPGcKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjIiCiAgICAgaW5rc2NhcGU6bGFiZWw9IkRyYXdpbmciCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMjEyLjU5ODQ0KSIKICAgICBzb2RpcG9kaTppbnNlbnNpdGl2ZT0idHJ1ZSI+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZmlsbDojMDBiY2Q0O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1IgogICAgICAgY3g9IjQ3OC4yODQ0OCIKICAgICAgIGN5PSItMjMuMDExNjk2IgogICAgICAgcj0iNTUiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZmlsbDojMDBiY2Q0O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTMiCiAgICAgICBjeD0iNDc2LjE2MjYzIgogICAgICAgY3k9IjQ5NS42OTQwNiIKICAgICAgIHI9IjU1LjAwMDAwNCIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJmaWxsOiMwMGJjZDQ7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtOSIKICAgICAgIGN4PSI3MjQuMDQ1OTYiCiAgICAgICBjeT0iNDk1LjM2OTExIgogICAgICAgcj0iNTUuMDAwMDA0IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImZpbGw6IzAwYmNkNDtmaWxsLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNDE3NS0zNiIKICAgICAgIGN4PSI4OTkuMTAxODEiCiAgICAgICBjeT0iNTAwLjIyMTg5IgogICAgICAgcj0iNTUuMDAwMDA0IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImZpbGw6IzAwYmNkNDtmaWxsLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNDE3NS03IgogICAgICAgY3g9Ijc0Ny4xODMwNCIKICAgICAgIGN5PSIyNDAuODM2MDkiCiAgICAgICByPSI1NS4wMDAwMDQiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZmlsbDojMDBiY2Q0O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTYiCiAgICAgICBjeD0iNTkyLjkyNDA3IgogICAgICAgY3k9IjI0My42NTMyOSIKICAgICAgIHI9IjU1LjAwMDAwNCIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJmaWxsOiMwMGJjZDQ7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtMSIKICAgICAgIGN4PSI0NzYuODYzMTMiCiAgICAgICBjeT0iMjQ2LjM3OTE4IgogICAgICAgcj0iNTUuMDAwMDA0IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6IzAwYmNkNDtmaWxsLW9wYWNpdHk6MSIKICAgICAgIGlkPSJwYXRoNDE3NS05LTQiCiAgICAgICBjeD0iLTIzMi42NDciCiAgICAgICBjeT0iNDk1LjM2OTE3IgogICAgICAgcj0iNTUuMDAwMDA4IgogICAgICAgdHJhbnNmb3JtPSJzY2FsZSgtMSwxKSIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiMwMGJjZDQ7ZmlsbC1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDQxNzUtMzYtMSIKICAgICAgIGN4PSItNTcuNTkxMTUyIgogICAgICAgY3k9IjUwMC4yMjE5NSIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEsMSkiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMDBiY2Q0O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTctMSIKICAgICAgIGN4PSItMjA5LjUwOTkyIgogICAgICAgY3k9IjI0MC44MzYxMiIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEsMSkiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojMDBiY2Q0O2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGg0MTc1LTYtMyIKICAgICAgIGN4PSItMzYzLjc2ODk1IgogICAgICAgY3k9IjI0My42NTMzMiIKICAgICAgIHI9IjU1LjAwMDAwOCIKICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoLTEsMSkiIC8+CiAgPC9nPgo8L3N2Zz4K';
    _blackOverlay.id = 'overlay';
    _welcomeModal.style.width='100%';

    //Handling Button behaviour
    _closeButton.classes.add('mdl-button');
    _closeButton.classes.add('mdl-js-button');
    _closeButton.classes.add('mdl-color--grey-50');
    _closeButton.classes.add('mdl-js-ripple-effect');
    _closeButton.style.display = ('inline-block');
    _closeButton.style.color = "rgba(0,0,0,.54)";
    _closeButton.text = "Got it!";
    _closeButton.onClick.listen((event) {
      hide();
    });

    _tutorialButton.classes.add('mdl-button');
    _tutorialButton.classes.add('mdl-js-button');
    _tutorialButton.classes.add('mdl-color--grey-50');
    _tutorialButton.classes.add('mdl-js-ripple-effect');
    _tutorialButton.style.display = ('inline-block');
    _tutorialButton.style.color = "rgba(0,0,0,.54)";
    _tutorialButton.text = "View Tutorial (WIP)";
    

    _buttonHolder.append(_closeButton);
    _buttonHolder.append(_tutorialButton);
    _buttonRegion.append(_buttonHolder);

    _welcomeMainContentInternal.append(_Logo);
    _welcomeMainContentInternal.append(_titleRegion);
    _welcomeMainContentInternal.append(_textRegion);

    _welcomeMainContent.append(_welcomeMainContentInternal);
    _welcomeModal.append(_welcomeMainContent);
    _welcomeModal.append(_buttonRegion);
    show(); //make sure the page loads up the element
  }

  //remove the modal dialog div's from the dom.
  void hide() {
    _welcomeModal.remove();
    _blackOverlay.remove();
  }
  //add the modal dialog div's to the dom
  void show() {
    document.body.append(_welcomeModal);
    document.body.append(_blackOverlay);
  }
}







